#Generate a checksum on the uBlox message 
# https://www.snip2code.com/Snippet/687406/uBlox-UBX-checksum-calculator/
# CFG-RATE (0x06,0x08) packet (without header 0xB5,0x62)
# payload length - 6, update rate 200ms, cycles - 1, reference - UTC (0)
#packet = [0x06,0x08, 0x00,0x06, 0x00,0xC8, 0x00,0x01, 0x00,0x00]
#packet = [ 0x06, 0x11, 0x00]

#packet = [ 0x06, 0x04, 0x04, 0xff, 0xff, 0x04, 0x00] #Tryin to force a reset
packet = [0x06, 0x24, 0x24, 0x00, 0xFF, 0xFF, 0x03, 0xE8, 0x03, 0xfa, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x10, 0x27, 0x00, 0x00, 0x05, 0x00, 0xFA, 0x00, 0xFA, 0x00, 0x64, 0x00, 0x2C, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]
CK_A,CK_B = 0, 0
for i in range(len(packet)):
  CK_A = CK_A + packet[i]
  CK_B = CK_B + CK_A

# ensure unsigned byte range
CK_A = CK_A & 0xFF
CK_B = CK_B & 0xFF

print "UBX packet checksum:", ("0x%02X,0x%02X" % (CK_A,CK_B))
